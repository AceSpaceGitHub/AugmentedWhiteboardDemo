{"version":3,"sources":["components/weatherBlob.jsx","components/weather-layer.jsx","components/windbarbs.jsx","components/wind-layer.jsx","components/borders.jsx","components/text.jsx","components/borders-layer.jsx","components/terrain.jsx","components/models.jsx","components/line.jsx","components/orbit-layer.jsx","components/box.jsx","components/triangle.jsx","components/circle.jsx","components/threat.jsx","components/dynamic-layer.jsx","components/whiteboard-menu.jsx","components/app.js","index.js"],"names":["WeatherBlob","positions","blob","this","setState","x","props","startX","y","startY","z","startZ","document","createElement","setAttribute","rotation","width","height","container","querySelector","parent","appendChild","prevProps","parentNode","removeChild","window","clearInterval","timer","React","Component","WeatherLayer","originX","originY","finalX","finalY","stepX","stepY","stepRotation","index","WindBarb","barb","speed","angle","WindLayer","Borders","entity","Text","color","text","insertBefore","firstChild","BordersLayer","showLabels","undefined","Terrain","Model","size","Line","x1","y1","x2","y2","OrbitLayer","begin","arrayIndex","update","positionIndex","stepInt","locationList","length","numSteps","finalPositionIndex","distance","Math","sqrt","pow","parseInt","originWX","originWY","finalWX","finalWY","stepWX","stepWY","origin","step","point1","point2","atan2","PI","calculateEndpoint","calculateAngle","map","location","i","locations","Box","depth","transparent","opacity","Triangle","Circle","radius","Threat","iconColor","circleColor","cZ","DynamicLayer","state","civs","enemies","airspaces","flightPath","markers","turnpoints","filter","m","isMarkerTurnpoint","sort","a","b","turnpointIndex","getUpdatedFlight","type","relativePosition","isOrbitActive","areLabelsActive","loopIndex","marker","id","name","WhiteboardMenu","areZonesActive","areThreatsActive","isWeatherActive","isBordersActive","isWindActive","isTerrainActive","screenLocation","left","top","topLeft","bottomLeft","topRight","bottomRight","markerPropertiesSelectedIndex","isMarkerPropertiesDialogOpen","isExportDialogOpen","selectedMarkerType","markerPropertiesTurnPointNumber","markersHeader","isAnchorVisible","markersFound","markersVisible","exportGeoMarkerIndex","exportLocationIndex","anchorPosition","intelLocations","latitude","longitude","element","findIndex","anchorElement","getAttribute","markerElement","markerPosition","position","isVisible","push","markersCopy","turnpointIndexes","maxTurnpointIndex","max","isFinite","incrementTurnpointIndex","setMarkerNames","prefix","tpText","getMarkerName","forEach","incrementedIndex","setInterval","updatedMarkers","getUpdatedMarkers","getElementById","addEventListener","e","console","log","addMarker","markerLost","anchorEarth","anchorScreen","geoScreen","geoEarth","markerResults","convertScreenToEarth","Latitude","Longitude","exportData","anchor","requestOptions","method","headers","body","JSON","stringify","fetch","markerScreen","min","Dialog","open","onClose","DialogTitle","style","DialogContent","TextField","select","label","helperText","value","fullWidth","onChange","target","MenuItem","DialogActions","Button","onClick","export","closeMarkerPropertiesDialog","FormControlLabel","control","Switch","checked","disabled","saveMarkerProperties","Grid","item","xs","Accordion","AccordionSummary","expandIcon","Typography","AccordionDetails","List","disablePadding","ListItem","button","handleItemOnClick","ListItemIcon","ListItemText","classes","primary","ToggleButton","selected","resetRoute","App","targetNode","MutationObserver","bodyMargin","marginTop","substring","marginLeft","observe","attributes","childList","subtree","number","app","ReactDOM","render"],"mappings":"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","file":"static/js/main.35b20cf4.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport class WeatherBlob extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.positions = [];\r\n        this.blob = null;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ x: this.props.startX, y: this.props.startY, z: this.props.startZ })\r\n        var blob = document.createElement('a-image');\r\n        blob.setAttribute('src', '#weather')\r\n        blob.setAttribute('position', { x: this.props.x ?? 0, y: this.props.y ?? 0, z: this.props.z ?? 0 });\r\n        blob.setAttribute('rotation', { x: -90, y: this.props.rotation ? 360 - this.props.rotation : 0, z: 0 })\r\n        blob.setAttribute('width', this.props.width ?? 1)\r\n        blob.setAttribute('height', this.props.height ?? 1)\r\n        blob.setAttribute('material', \"alphaTest: 0.5; transparent: true;\")\r\n        blob.setAttribute('opacity', \".5\")\r\n\r\n        var container = document.querySelector(this.props.parent);\r\n        this.blob = container.appendChild(blob);\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.x !== prevProps.x || this.props.y !== prevProps.y || this.props.z !== prevProps.z) {\r\n            this.blob.setAttribute('position', { x: this.props.x ?? 0, y: this.props.y ?? 0, z: this.props.z ?? 0 });\r\n        }\r\n        if (this.props.width !== prevProps.width) {\r\n            this.blob.setAttribute('width', this.props.width ?? 1)\r\n        }\r\n        if (this.props.height !== prevProps.height) {\r\n            this.blob.setAttribute('height', this.props.height ?? 1)\r\n        }\r\n        if (this.props.rotation !== prevProps.rotation) {\r\n            this.blob.setAttribute('rotation', { x: -90, y: this.props.rotation ? 360 - this.props.rotation : 0, z: 0 })\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.blob.parentNode.removeChild(this.blob);\r\n        window.clearInterval(this.timer);\r\n    }\r\n\r\n    render() {\r\n        return null;\r\n    }\r\n}","import React from \"react\";\r\nimport { WeatherBlob } from \"./weatherBlob\";\r\n\r\nexport default class WeatherLayer extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.originX = -1;\r\n        this.originY = -1;\r\n        this.finalX = 4;\r\n        this.finalY = 4;\r\n        this.stepX = (this.finalX - this.originX) / 100.0;\r\n        this.stepY = (this.finalY - this.originY) / 100.0;\r\n        this.stepRotation = .1;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <WeatherBlob\r\n                    parent='#weather-layer'\r\n                    x={this.originX + ((this.props.index%100)/2 * this.stepX)}\r\n                    z={this.originY + ((this.props.index%100)/2 * this.stepY)}\r\n                    width={8 - ((this.props.index%100)/2 * .06)}\r\n                    height={8 - ((this.props.index%100)/2 * .04)}\r\n                    rotation={(this.props.index%100)/2 * .5}/>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from \"react\";\r\n\r\nexport class WindBarb extends React.Component {\r\n    barb = null;\r\n\r\n    componentDidMount() {\r\n        var barb = document.createElement('a-image');\r\n        switch (true){\r\n            case(this.props.speed <= 10):\r\n                barb.setAttribute('src', '#windBarb01')\r\n                break;\r\n            case(this.props.speed <= 20):\r\n                barb.setAttribute('src','#windBarb02')\r\n                break;\r\n            case(this.props.speed <= 30):\r\n                barb.setAttribute('src','#windBarb03')\r\n                break;\r\n            case(this.props.speed <= 40):\r\n                barb.setAttribute('src', '#windBarb04')\r\n                break;\r\n            case(this.props.speed <= 50):\r\n                barb.setAttribute('src','#windBarb05')\r\n                break;\r\n            default:\r\n                barb.setAttribute('src','#windBarb05')\r\n                break;\r\n        }\r\n        barb.setAttribute('position', { x: this.props.x ?? 0, y: this.props.y ?? 0, z: this.props.z ?? 0 });\r\n        barb.setAttribute('rotation', { x: 90, y: -this.props.angle - 90 ?? 0, z: 0 })\r\n        barb.setAttribute('width', this.props.width ?? 1)\r\n        barb.setAttribute('height', this.props.height ?? 1)\r\n\r\n        var container = document.querySelector(this.props.parent);\r\n        this.barb = container.appendChild(barb);\r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.barb.parentNode.removeChild(this.barb);\r\n    }\r\n\r\n    render() {\r\n        return null;\r\n    }\r\n}","import React from \"react\";\r\nimport {WindBarb} from './windbarbs'\r\n\r\nexport default class WindLayer extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <WindBarb parent='#wind-layer' speed={0} angle={270} x={5} z={3} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={50} angle={285} x={1.3} z={1} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={50} angle={295} x={2} z={2.5} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={50} angle={330} x={0} z={5} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={50} angle={295} x={1} z={2.3} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={50} angle={305} x={.8} z={1.8} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={50} angle={325} x={1.7} z={.5} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={10} angle={280} x={5.7} z={1.5} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={10} angle={280} x={5.8} z={1.8} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={10} angle={290} x={7.35} z={.5} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={10} angle={290} x={8.7} z={.5} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={10} angle={290} x={7.8} z={.8} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={20} angle={280} x={5.7} z={9.5} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={20} angle={280} x={5.8} z={3.8} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={20} angle={290} x={7.35} z={6.5} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={20} angle={290} x={8.7} z={5.5} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={20} angle={290} x={7.8} z={4.8} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={10} angle={270} x={5} z={.8} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={20} angle={260} x={3.7} z={.5} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={30} angle={260} x={4.8} z={2.8} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={20} angle={250} x={4.35} z={4.5} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={20} angle={270} x={8.7} z={2.5} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={10} angle={270} x={5.8} z={4.8} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={50} angle={275} x={-.5} z={3} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={50} angle={275} x={-1.3} z={1} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={50} angle={275} x={-1.9} z={3.3} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={50} angle={285} x={-2} z={2.5} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={50} angle={290} x={0} z={1} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={10} angle={280} x={3.7} z={3.5} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={10} angle={280} x={4} z={3.8} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={10} angle={290} x={3.7} z={4.5} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={10} angle={340} x={3.7} z={8.5} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={10} angle={300} x={4} z={7.8} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={10} angle={320} x={3.7} z={6} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={10} angle={340} x={2.7} z={9.5} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={10} angle={320} x={2.5} z={6.8} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={10} angle={330} x={3.7} z={7.5} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={10} angle={375} x={1.7} z={8.5} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={10} angle={370} x={2.4} z={7.8} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={10} angle={360} x={1.5} z={6} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={10} angle={375} x={.7} z={9.5} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={10} angle={350} x={.5} z={6.8} y={3} width={.5} height={.5}/>\r\n                <WindBarb parent='#wind-layer' speed={10} angle={370} x={1.1} z={7.5} y={3} width={.5} height={.5}/>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from \"react\";\r\n\r\nexport class Borders extends React.Component {\r\n    entity = null;\r\n    componentDidMount() {\r\n        var entity = document.createElement('a-entity');\r\n        entity.setAttribute('line', \"start: -25 0 -50; end: 5 0 2; color: blue\");\r\n        entity.setAttribute('line__2', \"start: 5 0 2; end: 5 0 50; color: blue\");\r\n        var container = document.querySelector(this.props.parent);\r\n        this.entity = container.appendChild(entity);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.entity.parentNode.removeChild(this.entity);\r\n    }\r\n\r\n\r\n    render() {\r\n        return null;\r\n    }\r\n}\r\n\r\n","import React from \"react\";\r\n\r\nexport class Text extends React.Component {\r\n    entity = null;\r\n\r\n    componentDidMount() {\r\n        var entity = document.createElement('a-text');\r\n        entity.setAttribute('color', this.props.color ?? 'black');\r\n        entity.setAttribute('position', { x: this.props.x ?? 0, y: this.props.z ?? .5, z: this.props.y ?? 0 });\r\n        entity.setAttribute('rotation', { x: -90, y: this.props.rotation ?? 0, z: 0 })\r\n        entity.setAttribute('value', this.props.text);\r\n\r\n        var container = document.querySelector(this.props.parent);\r\n        this.entity = container.insertBefore(entity, container.firstChild);\r\n\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.x !== this.props.x || prevProps.y !== this.props.y || prevProps.z !== this.props.z) {\r\n            this.entity.setAttribute('position', { x: this.props.x ?? 0, y: this.props.z ?? .5, z: this.props.y ?? 0 });\r\n        }\r\n\r\n        if (prevProps.text !== this.props.text) {\r\n            this.entity.setAttribute('value', this.props.text);\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.entity.parentNode.removeChild(this.entity);\r\n    }\r\n\r\n    render() {\r\n        return null;\r\n    }\r\n}","import React from \"react\";\r\nimport {Borders} from './borders'\r\nimport {Text} from './text'\r\n\r\nexport default class BordersLayer extends React.Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Borders parent='#borders-layer' />\r\n                {this.props.showLabels\r\n                    ? <Text parent='#borders-layer' color='yellow' x={3.75} y={3.5} z={1} text='Country A' />\r\n                    : undefined}\r\n                {this.props.showLabels\r\n                    ? <Text parent='#borders-layer' color='yellow' x={5.1} y={3.5} z={1} text='Country B' />\r\n                    : undefined}\r\n            </div>\r\n        );\r\n    }\r\n}","import React from \"react\";\r\n\r\nexport class Terrain extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.blob = null;\r\n    }\r\n\r\n    componentDidMount() {\r\n        var blob = document.createElement('a-plane');\r\n        blob.setAttribute('src', '#terrain')\r\n        blob.setAttribute('position', { x: this.props.x ?? 0, y: this.props.y ?? 0, z: this.props.z ?? 0 });\r\n        blob.setAttribute('rotation', { x: -90, y: 0, z: 0 })\r\n        blob.setAttribute('width', this.props.width ?? 60)\r\n        blob.setAttribute('height', this.props.height ?? 40)\r\n        blob.setAttribute('material', \"alphaTest: 0.3; transparent: true;\")\r\n        blob.setAttribute('opacity', \".3\")\r\n\r\n        var container = document.querySelector(this.props.parent);\r\n        this.blob = container.appendChild(blob);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.blob.parentNode.removeChild(this.blob);\r\n    }\r\n\r\n    render() {\r\n        return null;\r\n    }\r\n}","import React from \"react\";\r\n\r\nexport class Model extends React.Component {\r\n    entity = null;\r\n\r\n    componentDidMount() {\r\n        var entity = document.createElement('a-entity');\r\n        entity.setAttribute('gltf-model', \"url(./f18.glb)\");\r\n        entity.setAttribute('scale', '.1 .1 .1');\r\n        entity.setAttribute('position', { x: this.props.x ?? 0, y: this.props.y ?? 0, z: this.props.z ?? 0 });\r\n        entity.setAttribute('rotation', { x: 0, y: this.props.angle, z: 0 });\r\n\r\n        var container = document.querySelector(this.props.parent);\r\n        this.entity = container.appendChild(entity);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.entity.parentNode.removeChild(this.entity);\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.x !== prevProps.x || this.props.y !== prevProps.y || this.props.z !== prevProps.z || this.props.size !== prevProps.size) {\r\n            this.entity.setAttribute('position', { x: this.props.x ?? 0, y: this.props.y ?? 0, z: this.props.z ?? 0 });\r\n        }\r\n\r\n        if (this.props.angle !== prevProps.angle) {\r\n            this.entity.setAttribute('rotation', { x: 0, y: this.props.angle, z: 0 });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return null;\r\n    }\r\n}","import React from \"react\";\r\n\r\nexport class Line extends React.Component {\r\n    entity = null;\r\n    componentDidMount() {\r\n        var entity = document.createElement('a-entity');\r\n        entity.setAttribute('line', `start: ${this.props.x1} 0 ${this.props.y1}; end: ${this.props.x2} 0 ${this.props.y2}; color: green`);\r\n        var container = document.querySelector(this.props.parent);\r\n        this.entity = container.appendChild(entity);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.entity.parentNode.removeChild(this.entity);\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.x1 !== this.props.x1 || prevProps.y1 !== this.props.y1 || prevProps.x2 !== this.props.x2 || prevProps.y2 !== this.props.y2) {\r\n            this.entity.setAttribute('line', `start: ${this.props.x1} 0 ${this.props.y1}; end: ${this.props.x2} 0 ${this.props.y2}; color: green`);\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return null;\r\n    }\r\n}","import React from \"react\";\r\nimport { Model } from \"./models\";\r\nimport { Line } from \"./line\"\r\n\r\nexport class OrbitLayer extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.begin = false;\r\n        this.arrayIndex = 0;\r\n        this.update = true;\r\n        this.positionIndex = 1;\r\n        this.stepInt = 1;\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.index !== this.props.index && this.begin) {\r\n            this.positionIndex++;\r\n        }\r\n        if (prevProps?.locationList?.length !== this.props.locationList?.length) {\r\n            this.arrayIndex = 0;\r\n            this.begin = false;\r\n            this.numSteps = 0;\r\n            this.positionIndex = 1;\r\n            this.stepInt = 1;\r\n            this.update = false;\r\n        }\r\n        if (this.props.locationList && this.props.locationList.length > 1) {\r\n            this.locationList = this.props.locationList;\r\n            var finalPositionIndex = (this.arrayIndex + this.stepInt) % this.locationList.length;\r\n            var distance = Math.sqrt(Math.pow((this.locationList[finalPositionIndex].x - this.locationList[this.arrayIndex].x), 2) +\r\n                Math.pow((this.locationList[finalPositionIndex].y - this.locationList[this.arrayIndex].y), 2));\r\n            this.numSteps = parseInt(distance / 2 * 30);\r\n            this.originX = this.locationList[this.arrayIndex].x;\r\n            this.originY = this.locationList[this.arrayIndex].y;\r\n            this.finalX = this.locationList[finalPositionIndex].x;\r\n            this.finalY = this.locationList[finalPositionIndex].y;\r\n            this.stepX = (this.finalX - this.originX) / this.numSteps;\r\n            this.stepY = (this.finalY - this.originY) / this.numSteps;\r\n\r\n            this.originWX = this.locationList[this.arrayIndex].x - .5;\r\n            this.originWY = this.locationList[this.arrayIndex].y + .7;\r\n            this.finalWX = this.locationList[finalPositionIndex].x - .5;\r\n            this.finalWY = this.locationList[finalPositionIndex].y + .7;\r\n            this.stepWX = (this.finalWX - this.originWX) / this.numSteps;\r\n            this.stepWY = (this.finalWY - this.originWY) / this.numSteps;\r\n            this.begin = true;\r\n        }\r\n    }\r\n\r\n    calculateEndpoint(origin, step) {\r\n        if (this.begin) {\r\n            if (!(this.positionIndex % this.numSteps)) {\r\n                if (this.update) {\r\n                    this.arrayIndex = (this.arrayIndex + this.stepInt);\r\n                    if(this.arrayIndex === this.locationList.length - 1){\r\n                        this.stepInt = -1;\r\n                    }\r\n                    this.update = false;\r\n                    var finalPositionIndex = (this.arrayIndex + this.stepInt) % this.locationList.length;\r\n                    if(finalPositionIndex === -1){\r\n                        this.stepInt = 1;\r\n                        finalPositionIndex = 1;\r\n                    }\r\n                    var distance = Math.sqrt((this.locationList[finalPositionIndex].x - this.locationList[this.arrayIndex].x) ^ 2 +\r\n                        (this.locationList[finalPositionIndex].y - this.locationList[this.arrayIndex].y) ^ 2);\r\n                    this.positionIndex = 0;\r\n                    this.numSteps = parseInt(distance / 2 * 30);\r\n                    this.originX = this.locationList[this.arrayIndex].x;\r\n                    this.originY = this.locationList[this.arrayIndex].y;\r\n                    this.finalX = this.locationList[finalPositionIndex].x;\r\n                    this.finalY = this.locationList[finalPositionIndex].y;\r\n                    this.stepX = (this.finalX - this.originX) / this.numSteps;\r\n                    this.stepY = (this.finalY - this.originY) / this.numSteps;\r\n\r\n                    this.originWX = this.locationList[this.arrayIndex].x - .5;\r\n                    this.originWY = this.locationList[this.arrayIndex].y + .7;\r\n                    this.finalWX = this.locationList[finalPositionIndex].x - .5;\r\n                    this.finalWY = this.locationList[finalPositionIndex].y + .7;\r\n                    this.stepWX = (this.finalWX - this.originWX) / this.numSteps;\r\n                    this.stepWY = (this.finalWY - this.originWY) / this.numSteps;\r\n                }\r\n                return this.locationList[this.arrayIndex];\r\n            }\r\n            else {\r\n                this.update = true;\r\n                return origin + ((this.positionIndex % this.numSteps) * step);\r\n            }\r\n        }\r\n    }\r\n\r\n    calculateAngle(point1, point2) {\r\n        if (point1 && point2) {\r\n            return Math.atan2(-point2.y + point1.y, point2.x - point1.x) * 180 / Math.PI + 90;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    render() {\r\n        if (this.begin) {\r\n            return (\r\n                <div>\r\n                    <Model parent='#orbit-layer'\r\n                        x={this.calculateEndpoint(this.originX, this.stepX)}\r\n                        z={this.calculateEndpoint(this.originY, this.stepY)}\r\n                        y={.1}\r\n                        angle={this.calculateAngle({ x: this.originX, y: this.originY }, { x: this.finalX, y: this.finalY })} />\r\n                    <Model parent='#orbit-layer'\r\n                        x={this.calculateEndpoint(this.originWX, this.stepWX)}\r\n                        z={this.calculateEndpoint(this.originWY, this.stepWY)}\r\n                        y={.1}\r\n                        angle={this.calculateAngle({ x: this.originX, y: this.originY }, { x: this.finalX, y: this.finalY })} />\r\n                    {this.props.locationList.map((location, i, locations) => {\r\n                        if (i < locations.length - 1) {\r\n                            return (\r\n                                <Line key={i} parent='#orbit-layer' x1={location.x} y1={location.y} x2={locations[i + 1].x} y2={locations[i + 1].y} />)\r\n                        }\r\n                        else {\r\n                            return (undefined)\r\n                        }\r\n                    })}\r\n                </div>\r\n            );\r\n        }\r\n        else return (<div></div>);\r\n    }\r\n}","import React from \"react\";\r\n\r\nexport class Box extends React.Component {\r\n    entity = null;\r\n\r\n    componentDidMount() {\r\n        var entity = document.createElement('a-box');\r\n        entity.setAttribute('color', this.props.color ?? 'black');\r\n        entity.setAttribute('position', { x: this.props.x ?? 0, y: this.props.z ?? .1, z: this.props.y ?? 0});\r\n        entity.setAttribute('width', this.props.width ?? 1);\r\n        entity.setAttribute('height', this.props.height ?? 1);\r\n        entity.setAttribute('depth', this.props.depth ?? 0.001);\r\n        entity.setAttribute('rotation', { x: -90, y: this.props.rotation ? 360 - this.props.rotation : 0, z: 0})\r\n        entity.setAttribute('transparent', this.props.transparent ?? false);\r\n        entity.setAttribute('opacity', this.props.opacity ?? .4);\r\n        var container = document.querySelector(this.props.parent);\r\n        this.entity = container.appendChild(entity);\r\n        \r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.entity.setAttribute('position', { x: this.props.x ?? 0, y: this.props.z ?? .1, z: this.props.y ?? 0});\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.entity.parentNode.removeChild(this.entity);\r\n    }\r\n\r\n    render() {\r\n        return null;\r\n    }\r\n}","import React from \"react\";\r\n\r\nexport class Triangle extends React.Component {\r\n    entity = null;\r\n\r\n    componentDidMount() {\r\n        var entity = document.createElement('a-triangle');\r\n        entity.setAttribute('color', this.props.color ?? 'black');\r\n        entity.setAttribute('transparent', this.props.transparent ?? false);\r\n        entity.setAttribute('opacity', this.props.opacity ?? 1);\r\n\r\n        entity.setAttribute('geometry', 'vertexA', { x: this.props.x ?? 0, y: this.props.z ?? .1, z: (this.props.y ?? 0) - (this.props.size ?? 1) });\r\n        entity.setAttribute('geometry', 'vertexB', { x: (this.props.x ?? 0) - (this.props.size ?? 1), y: this.props.z ?? .1, z: (this.props.y ?? 0) + (this.props.size ?? 1) });\r\n        entity.setAttribute('geometry', 'vertexC', { x: (this.props.x ?? 0) + (this.props.size ?? 1), y: this.props.z ?? .1, z: (this.props.y ?? 0) + (this.props.size ?? 1) });\r\n\r\n        var container = document.querySelector(this.props.parent);\r\n        this.entity = container.appendChild(entity);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.entity.parentNode.removeChild(this.entity);\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n\r\n        if (this.props.x !== prevProps.x || this.props.y !== prevProps.y || this.props.y !== prevProps.y || this.props.size !== prevProps.size) {\r\n            this.entity.setAttribute('geometry', 'vertexA', { x: this.props.x ?? 0, y: this.props.z ?? .1, z: (this.props.y ?? 0) - (this.props.size ?? 1) });\r\n            this.entity.setAttribute('geometry', 'vertexB', { x: (this.props.x ?? 0) - (this.props.size ?? 1), y: this.props.z ?? .1, z: (this.props.y ?? 0) + (this.props.size ?? 1) });\r\n            this.entity.setAttribute('geometry', 'vertexC', { x: (this.props.x ?? 0) + (this.props.size ?? 1), y: this.props.z ?? .1, z: (this.props.y ?? 0) + (this.props.size ?? 1) });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return null;\r\n    }\r\n}","import React from \"react\";\r\n\r\nexport class Circle extends React.Component {\r\n    entity = null;\r\n\r\n    componentDidMount() {\r\n        var entity = document.createElement('a-circle');\r\n        entity.setAttribute('color', this.props.color ?? 'black');\r\n        entity.setAttribute('position', { x: this.props.x ?? 0, y: this.props.z ?? .1, z: this.props.y ?? 0 });\r\n        entity.setAttribute('radius', this.props.radius ?? 1);\r\n        entity.setAttribute('rotation', { x: -90, y: this.props.rotation ?? 0, z: 0 })\r\n        entity.setAttribute('transparent', this.props.transparent ?? false);\r\n        entity.setAttribute('opacity', this.props.opacity ?? 1);\r\n\r\n        var container = document.querySelector(this.props.parent);\r\n        this.entity = container.appendChild(entity);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.entity.parentNode.removeChild(this.entity);\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n\r\n        if (this.props.x !== prevProps.x\r\n            || this.props.y !== prevProps.y\r\n            || this.props.y !== prevProps.y\r\n            || this.props.radius !== prevProps.radius\r\n            || this.props.rotation !== prevProps.rotation) {\r\n            this.entity.setAttribute('position', { x: this.props.x ?? 0, y: this.props.z ?? .1, z: this.props.y ?? 0 });\r\n            this.entity.setAttribute('radius', this.props.radius ?? 1);\r\n            this.entity.setAttribute('rotation', { x: -90, y: this.props.rotation ?? 0, z: 0 })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return null;\r\n    }\r\n}","import React from \"react\";\r\nimport { Triangle } from './triangle'\r\nimport { Circle } from \"./circle\";\r\n\r\nexport class Threat extends React.Component {\r\n    render() {\r\n        return <div>\r\n            <Triangle parent={this.props.parent} color={this.props.iconColor} size={this.props.size ?? .1} x={this.props.x} y={this.props.y} z={this.props.z + .1}/>\r\n            <Circle parent={this.props.parent} color={this.props.circleColor} radius={this.props.radius} x={this.props.x} y={this.props.y} z={this.props.cZ - .1} transparent={true} opacity={0.125} />\r\n        </div>;\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport { OrbitLayer } from './orbit-layer';\r\nimport { Box } from './box'\r\nimport { Threat } from './threat'\r\nimport { Text } from './text'\r\n\r\nexport default class DynamicLayer extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            civs: [],\r\n            enemies: [],\r\n            airspaces: [],\r\n            flightPath: [],\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.markers !== this.props.markers) {\r\n            var turnpoints = this.props.markers.filter(m => m.isMarkerTurnpoint).sort((a, b) => (a?.turnpointIndex ?? 0) - (b?.turnpointIndex ?? 0));\r\n            var flightPath = this.getUpdatedFlight(turnpoints);\r\n            var civs = this.props.markers.filter(m => m.type === \"friendly\");\r\n            var enemies = this.props.markers.filter(m => m.type === \"enemy\");\r\n            var airspaces = this.props.markers.filter(m => m.type === \"airspace\");\r\n            this.setState({civs: civs, enemies: enemies, flightPath: flightPath, airspaces: airspaces})\r\n        }\r\n    }\r\n\r\n    getUpdatedFlight(markers) {\r\n        return markers.map((m) => m.relativePosition);\r\n    }\r\n\r\n    render() {\r\n        return <div>\r\n            {(this.props.isOrbitActive && this.state.flightPath.length > 1)\r\n                ? <OrbitLayer showLabels={this.props.areLabelsActive} index={this.props.loopIndex} locationList={this.state.flightPath} />\r\n                : undefined}\r\n            {this.state.civs.map((marker, i) => (\r\n                <Box key={marker.id+\"civ\"} parent='#dynamic-layer' color='blue' x={marker.relativePosition.x} y={marker.relativePosition.y} width={.25} height={.50} rotation={30} />)\r\n            )}\r\n            {this.state.enemies.map((marker, i) => (\r\n                <Threat key={marker.id + \"enemy\"} parent='#dynamic-layer' iconColor='red' circleColor='red' radius={1.5} z={0.05} x={marker.relativePosition.x} y={marker.relativePosition.y} cZ={.6} />)\r\n            )}\r\n            {this.state.airspaces.map((marker, i) => (\r\n                <Box key={marker.id + \"airspace\"} parent='#dynamic-layer' color='green' x={marker.relativePosition.x} y={marker.relativePosition.y} width={3.5} height={3.5} transparent={true} opacity={0.125} />)\r\n            )}\r\n            {this.props.markers.map((marker) => { return (this.props.showLabels && (marker.isMarkerTurnpoint || marker.type !== \"none\") )? (<Text key={marker.id + \"marker-text\"} parent=\"#dynamic-layer\" text={marker.name} color=\"yellow\" x={marker.relativePosition.x - .5} y={marker.relativePosition.y - .5} z={.5} />) : (undefined) })}\r\n        </div>;\r\n    }\r\n}\r\n","import React from 'react';\r\nimport ToggleButton from '@material-ui/lab/ToggleButton';\r\nimport Button from '@material-ui/core/Button'\r\nimport WeatherLayer from './weather-layer';\r\nimport WindLayer from './wind-layer';\r\nimport BordersLayer from './borders-layer';\r\nimport './index.css';\r\nimport { Terrain } from './terrain';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport DynamicLayer from './dynamic-layer';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport { Triangle } from './triangle'\r\nimport { Text } from './text'\r\n\r\nexport default class WhiteboardMenu extends React.Component {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            loopIndex: 0,\r\n            areZonesActive: true,\r\n            areThreatsActive: true,\r\n            areLabelsActive: true,\r\n            isOrbitActive: true,\r\n            isWeatherActive: false,\r\n            isBordersActive: true,\r\n            isWindActive: false,\r\n            isTerrainActive: false,\r\n            screenLocation: { left: 0, top: 0 },\r\n            topLeft: false,\r\n            bottomLeft: false,\r\n            topRight: false,\r\n            bottomRight: false,\r\n            timer: null,\r\n            markerPropertiesSelectedIndex: -1,\r\n            isMarkerPropertiesDialogOpen: false,\r\n            isExportDialogOpen: false,\r\n            selectedMarkerType: \"none\",\r\n            isMarkerTurnpoint: false,\r\n            markerPropertiesTurnPointNumber: 0,\r\n            markersHeader: \"No Assets Visible\",\r\n            isAnchorVisible: false,\r\n            markers: [],\r\n            markersFound: 0,\r\n            markersVisible: 0,\r\n            exportGeoMarkerIndex: 0,\r\n            exportLocationIndex: 0,\r\n            anchorPosition: { x: 0, y: 0 },\r\n            intelLocations: [\r\n                { name: 'Park', latitude: 41.07637487215108, longitude: -112.02569323935586 },\r\n                { name: 'Intel 2', latitude: 12.34, longitude: 12.34567 },\r\n                { name: 'Intel 3', latitude: 12.34, longitude: 12.34567 },\r\n            ]\r\n\r\n        }\r\n    }\r\n\r\n    addMarker(element, id) {\r\n        var index = this.state.markers.findIndex((m) => m.element === element)\r\n\r\n        var markers = [...this.state.markers];\r\n\r\n        var anchorElement = document.querySelector(\"#anchor\");\r\n        var anchorPosition = anchorElement?.getAttribute(\"position\");\r\n\r\n        var markerElement = document.querySelector(\"#\" + element);\r\n        var markerPosition = markerElement?.getAttribute(\"position\");\r\n\r\n        var relativePosition = { x: markerPosition.x - anchorPosition.x, y: anchorPosition.y - markerPosition.y, z: 0 }\r\n\r\n\r\n        var markersFound = this.state.markersFound;\r\n        var markersVisible = this.state.markersVisible + 1;\r\n\r\n        if (index !== -1) {\r\n            var marker = { ...markers[index] }\r\n            marker.position = markerPosition;\r\n            marker.relativePosition = relativePosition;\r\n            marker.isVisible = true;\r\n            markers[index] = marker;\r\n        }\r\n        else {\r\n            markersFound++;\r\n            markers.push(\r\n                {\r\n                    element: element,\r\n                    id: id,\r\n                    name: `Marker ${id}`,\r\n                    position: markerPosition,\r\n                    relativePosition: relativePosition,\r\n                    type: \"none\",\r\n                    isMarkerTurnpoint: false,\r\n                    turnpointIndex: 1,\r\n                    isVisible: true\r\n                }\r\n            )\r\n        }\r\n        var markersHeader = `${markersVisible}/${markersFound} Assets Visible`\r\n        this.setState({ markersFound: markersFound, markersVisible: markersVisible, markersHeader: markersHeader, markers: markers })\r\n    }\r\n\r\n    markerLost(element) {\r\n        var index = this.state.markers.findIndex((m) => m.element === element)\r\n        var markers = [...this.state.markers];\r\n        if (index !== -1) {\r\n            var marker = { ...markers[index] }\r\n            marker.isVisible = false;\r\n            markers[index] = marker;\r\n        }\r\n        var markersFound = this.state.markersFound;\r\n        var markersVisible = this.state.markersVisible - 1;\r\n        var markersHeader = `${markersVisible}/${markersFound} Assets Visible`\r\n        this.setState({ markersVisible: markersVisible, markersHeader: markersHeader, markers: markers })\r\n    }\r\n\r\n    getUpdatedMarkers(markers) {\r\n        var markersCopy = [...markers];\r\n\r\n        var anchorElement = document.querySelector(\"#anchor\");\r\n        var anchorPosition = anchorElement?.getAttribute(\"position\");\r\n\r\n        if (anchorPosition) {\r\n            for (var i = 0; i < markersCopy.length; i++) {\r\n\r\n                var markerElement = document.querySelector(\"#\" + markersCopy[i].element);\r\n                var markerPosition = markerElement?.getAttribute(\"position\");\r\n\r\n                var relativePosition = { x: markerPosition.x - anchorPosition.x, y: anchorPosition.y - markerPosition.y, z: 0 }\r\n\r\n                var marker = { ...markersCopy[i] }\r\n                marker.position = markerPosition;\r\n                marker.relativePosition = relativePosition;\r\n                markersCopy[i] = marker;\r\n            }\r\n        }\r\n        return markersCopy;\r\n    }\r\n\r\n    getUpdatedFlight(markers) {\r\n        return markers.map((m) => m.relativePosition);\r\n    }\r\n\r\n    handleItemOnClick(marker, index) {\r\n        var turnpointIndexes = this.state.markers.filter(m => m.isMarkerTurnpoint).map(m => m.turnpointIndex);\r\n        var maxTurnpointIndex = Math.max(...turnpointIndexes) + 1;\r\n        if (!isFinite(maxTurnpointIndex)) {\r\n            maxTurnpointIndex = marker.turnpointIndex ?? 1;\r\n        }\r\n\r\n        if (maxTurnpointIndex > 8) {\r\n            maxTurnpointIndex = 8;\r\n        }\r\n\r\n        this.setState(\r\n            {\r\n                isMarkerPropertiesDialogOpen: true,\r\n                markerPropertiesSelectedIndex: index,\r\n                selectedMarkerType: marker.type,\r\n                isMarkerTurnpoint: marker.isMarkerTurnpoint,\r\n                markerPropertiesTurnPointNumber: marker.isMarkerTurnpoint ? marker.turnpointIndex : maxTurnpointIndex,\r\n            }\r\n        );\r\n    }\r\n\r\n    closeMarkerPropertiesDialog() {\r\n        this.setState({ isMarkerPropertiesDialogOpen: false, markerPropertiesSelectedIndex: -1 });\r\n    }\r\n\r\n    saveMarkerProperties() {\r\n        var markersCopy = [...this.state.markers];\r\n\r\n        var marker = { ...markersCopy[this.state.markerPropertiesSelectedIndex] }\r\n        marker.type = this.state.selectedMarkerType;\r\n        marker.isMarkerTurnpoint = this.state.isMarkerTurnpoint;\r\n        marker.turnpointIndex = this.state.markerPropertiesTurnPointNumber;\r\n\r\n        markersCopy[this.state.markerPropertiesSelectedIndex] = marker;\r\n\r\n        if (this.state.isMarkerTurnpoint) {\r\n            this.incrementTurnpointIndex(markersCopy, marker);\r\n        }\r\n\r\n        this.setMarkerNames(markersCopy);\r\n\r\n        this.setState({ markers: markersCopy, isMarkerPropertiesDialogOpen: false, markerPropertiesSelectedIndex: -1 });\r\n    }\r\n\r\n    getMarkerName(marker) {\r\n        var name = `Marker ${marker.id}`;\r\n        if (marker.type === \"none\") {\r\n            if (marker.isMarkerTurnpoint) {\r\n                name = `Turn Point ${marker.turnpointIndex} (M${marker.id})`;\r\n            }\r\n            else {\r\n                name = `Marker ${marker.id}`;\r\n            }\r\n        }\r\n        else {\r\n            var prefix = 'Asset'\r\n            if (marker.type === \"friendly\") {\r\n                prefix = \"Friendly\";\r\n            }\r\n\r\n            if (marker.type === \"enemy\") {\r\n                prefix = \"Enemy\";\r\n            }\r\n\r\n            if (marker.type === \"airspace\") {\r\n                prefix = \"Airspace\";\r\n            }\r\n\r\n            var tpText = \"\";\r\n            if (marker.isMarkerTurnpoint) {\r\n                tpText = ` (TP ${marker.turnpointIndex})`\r\n            }\r\n            name = `${prefix}${tpText} (M${marker.id})`;\r\n        }\r\n\r\n        return name\r\n    }\r\n\r\n    setMarkerNames(markers) {\r\n        for (var i = 0; i < markers.length; i++) {\r\n            var marker = { ...markers[i] }\r\n            marker.name = this.getMarkerName(marker);\r\n            markers[i] = marker;\r\n        }\r\n    }\r\n\r\n    incrementTurnpointIndex(markers, marker) {\r\n        if (marker.turnpointIndex === 8) {\r\n            return markers;\r\n        }\r\n\r\n        var matchingIndexes = markers.filter(m => m.isMarkerTurnpoint && m.turnpointIndex === marker.turnpointIndex);\r\n        if (matchingIndexes.length === 1) {\r\n            return markers;\r\n        }\r\n\r\n        markers.forEach(m => {\r\n            if (m === marker || !m.isMarkerTurnpoint || m.turnpointIndex < marker.turnpointIndex) {\r\n                return m;\r\n            }\r\n            var incrementedIndex = m.turnpointIndex + 1;\r\n            if (incrementedIndex > 8) {\r\n                incrementedIndex = 8;\r\n            }\r\n            m.turnpointIndex = incrementedIndex;\r\n            return m;\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.timer = setInterval(() => {\r\n            var i = this.state.loopIndex + 1;\r\n            if (i > 1000000) {\r\n                i = 0;\r\n            }\r\n            if (this.state.isAnchorVisible) {\r\n                var anchorElement = document.querySelector(\"#anchor\");\r\n                var anchorPosition = anchorElement?.getAttribute(\"position\");\r\n                var markers = this.state.markers;\r\n                var updatedMarkers = this.getUpdatedMarkers(markers);\r\n                if (updatedMarkers) {\r\n                    markers = updatedMarkers;\r\n                }\r\n                this.setState({ loopIndex: i, markers: markers, anchorPosition: anchorPosition });\r\n            }\r\n            else {\r\n                this.setState({ loopIndex: i });\r\n            }\r\n\r\n        }, 100);\r\n\r\n        document.getElementById(\"anchor\")?.addEventListener(\"markerFound\", (e) => { console.log(\"Anchor Found!\"); this.setState({ isAnchorVisible: true }) });\r\n        document.getElementById(\"marker1\")?.addEventListener(\"markerFound\", (e) => { this.addMarker(\"marker1\", \"1\") });\r\n        document.getElementById(\"marker2\")?.addEventListener(\"markerFound\", (e) => { this.addMarker(\"marker2\", \"2\") });\r\n        document.getElementById(\"marker3\")?.addEventListener(\"markerFound\", (e) => { this.addMarker(\"marker3\", \"3\") });\r\n        document.getElementById(\"marker4\")?.addEventListener(\"markerFound\", (e) => { this.addMarker(\"marker4\", \"4\") });\r\n        document.getElementById(\"marker5\")?.addEventListener(\"markerFound\", (e) => { this.addMarker(\"marker5\", \"5\") });\r\n        document.getElementById(\"marker6\")?.addEventListener(\"markerFound\", (e) => { this.addMarker(\"marker6\", \"6\") });\r\n        document.getElementById(\"marker7\")?.addEventListener(\"markerFound\", (e) => { this.addMarker(\"marker7\", \"7\") });\r\n        document.getElementById(\"marker8\")?.addEventListener(\"markerFound\", (e) => { this.addMarker(\"marker8\", \"8\") });\r\n\r\n        document.getElementById(\"anchor\")?.addEventListener(\"markerLost\", (e) => { console.log(\"Anchor Lost!\"); this.setState({ isAnchorVisible: false }) });\r\n        document.getElementById(\"marker1\")?.addEventListener(\"markerLost\", (e) => { this.markerLost(\"marker1\") });\r\n        document.getElementById(\"marker2\")?.addEventListener(\"markerLost\", (e) => { this.markerLost(\"marker2\") });\r\n        document.getElementById(\"marker3\")?.addEventListener(\"markerLost\", (e) => { this.markerLost(\"marker3\") });\r\n        document.getElementById(\"marker4\")?.addEventListener(\"markerLost\", (e) => { this.markerLost(\"marker4\") });\r\n        document.getElementById(\"marker5\")?.addEventListener(\"markerLost\", (e) => { this.markerLost(\"marker5\") });\r\n        document.getElementById(\"marker6\")?.addEventListener(\"markerLost\", (e) => { this.markerLost(\"marker6\") });\r\n        document.getElementById(\"marker7\")?.addEventListener(\"markerLost\", (e) => { this.markerLost(\"marker7\") });\r\n        document.getElementById(\"marker8\")?.addEventListener(\"markerLost\", (e) => { this.markerLost(\"marker8\") });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.timer) {\r\n            window.clearInterval(this.timer);\r\n        }\r\n    }\r\n\r\n    resetRoute() {\r\n        var markers = [...this.state.markers];\r\n\r\n        for (var i = 0; i < markers.length; i++) {\r\n            var marker = { ...markers[i] }\r\n            marker.isMarkerTurnpoint = false;\r\n            marker.turnpointIndex = 1;\r\n            markers[i] = marker;\r\n        }\r\n\r\n        this.setMarkerNames(markers);\r\n        this.setState({ markers: markers });\r\n    }\r\n\r\n    export() {\r\n        var anchorEarth = { latitude: 41.073631916433065, longitude: - 112.03317345484369 };\r\n        var anchorScreen = { x: 0, y: 0 };\r\n\r\n        var geoScreen = this.state.markers[this.state.exportGeoMarkerIndex].relativePosition;\r\n        var geoEarth = this.state.intelLocations[this.state.exportLocationIndex];\r\n\r\n        var markerResults = this.state.markers.map(m => {\r\n            var latitude = this.convertScreenToEarth(anchorScreen.y, anchorEarth.latitude, -geoScreen.y, geoEarth.latitude, -m.relativePosition.y);\r\n            var longitude = this.convertScreenToEarth(anchorScreen.x, anchorEarth.longitude, geoScreen.x, geoEarth.longitude, m.relativePosition.x);\r\n            return {\r\n                name: m.name,\r\n                type: m.type,\r\n                Latitude: latitude,\r\n                Longitude: longitude,\r\n            }\r\n        })\r\n\r\n        var exportData = { anchor: anchorEarth, markers: markerResults };\r\n\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(exportData)\r\n        };\r\n        fetch('https://augmentedrealitywhiteboardbackend.azurewebsites.net/exportdata', requestOptions);\r\n\r\n    }\r\n\r\n    convertScreenToEarth(anchorScreen, anchorEarth, geoScreen, geoEarth, markerScreen) {\r\n        var result = ((Math.sqrt(Math.pow(anchorEarth - geoEarth, 2)) / Math.sqrt(Math.pow(anchorScreen - geoScreen, 2))) * markerScreen) + Math.min(anchorEarth, geoEarth);\r\n        return result;\r\n    }\r\n\r\n    // convertScreenToEarth(anchorScreen, anchorEarth, geoScreen, geoEarth, markerScreen) {\r\n    //     var flipMe = geoScreen < 0 ? -1 : 1\r\n\r\n    //     if (anchorEarth >= 0) {\r\n    //         return ((Math.sqrt(Math.pow(anchorEarth - geoEarth, 2)) / Math.sqrt(Math.pow(anchorScreen - geoScreen, 2))) * flipMe * markerScreen) + Math.min(anchorEarth, geoEarth);\r\n    //     }\r\n    //     else {\r\n    //         return ((Math.sqrt(Math.pow(anchorEarth - geoEarth, 2)) / Math.sqrt(Math.pow(anchorScreen - geoScreen, 2))) * flipMe *markerScreen) + Math.max(anchorEarth, geoEarth);\r\n    //     }\r\n    // }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Dialog open={this.state.isExportDialogOpen} onClose={() => this.setState({ isExportDialogOpen: false })}>\r\n                    <DialogTitle style={{ width: '250px' }}>Export Scene</DialogTitle>\r\n                    <DialogContent>\r\n                        <TextField select label={\"Known Asset\"} helperText={\"Select an asset\"} value={this.state.exportGeoMarkerIndex} fullWidth onChange={(e) => this.setState({ exportGeoMarkerIndex: e.target.value })}>\r\n                            {this.state.markers.map((marker, i) => (<MenuItem key={marker.id} value={i}>{marker.name}</MenuItem>))}\r\n                        </TextField>\r\n                        <TextField select label={\"Location\"} helperText={\"Select a location\"} value={`${this.state.exportLocationIndex}`} fullWidth onChange={(e) => this.setState({ exportLocationIndex: e.target.value })}>\r\n                            {this.state.intelLocations.map((location, i) => (<MenuItem key={i} value={i}>{location.name}</MenuItem>))}\r\n                        </TextField>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={() => { this.setState({ isExportDialogOpen: false }) }} color=\"primary\">\r\n                            Cancel\r\n                        </Button>\r\n                        <Button onClick={() => { this.export(); this.setState({ isExportDialogOpen: false }) }} color=\"primary\">\r\n                            Export\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n                <Dialog open={this.state.isMarkerPropertiesDialogOpen} onClose={() => this.closeMarkerPropertiesDialog()}>\r\n                    <DialogTitle style={{ width: '250px' }} id=\"form-dialog-title\">Marker Properties</DialogTitle>\r\n                    <DialogContent>\r\n                        <TextField select label={\"Asset Type\"} helperText={\"Select an asset type\"} value={this.state.selectedMarkerType} fullWidth onChange={(e) => this.setState({ selectedMarkerType: e.target.value })}>\r\n                            <MenuItem value=\"none\">None</MenuItem>\r\n                            <MenuItem value=\"friendly\">Friendly CVN</MenuItem>\r\n                            <MenuItem value=\"enemy\">Enemy Battle Group</MenuItem>\r\n                            <MenuItem value=\"airspace\">Airspace</MenuItem>\r\n                        </TextField>\r\n                        <FormControlLabel\r\n                            control={<Switch\r\n                                checked={this.state.isMarkerTurnpoint}\r\n                                onChange={(e) => this.setState({ isMarkerTurnpoint: e.target.checked })}\r\n                            />}\r\n                            label=\"Is Turnpoint\"\r\n                        />\r\n                        <TextField select label={\"Turnpoint\"} helperText={\"Select a turn point number\"} disabled={!this.state.isMarkerTurnpoint} value={`${this.state.markerPropertiesTurnPointNumber}`} fullWidth={false} onChange={(e) => this.setState({ markerPropertiesTurnPointNumber: parseInt(e.target.value) })}>\r\n                            <MenuItem value=\"1\">1</MenuItem>\r\n                            <MenuItem value=\"2\">2</MenuItem>\r\n                            <MenuItem value=\"3\">3</MenuItem>\r\n                            <MenuItem value=\"4\">4</MenuItem>\r\n                            <MenuItem value=\"5\">5</MenuItem>\r\n                            <MenuItem value=\"6\">6</MenuItem>\r\n                            <MenuItem value=\"7\">7</MenuItem>\r\n                            <MenuItem value=\"8\">8</MenuItem>\r\n                        </TextField>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={() => { this.closeMarkerPropertiesDialog() }} color=\"primary\">\r\n                            Cancel\r\n                        </Button>\r\n                        <Button onClick={() => { this.saveMarkerProperties() }} color=\"primary\">\r\n                            Save\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n                <Grid container>\r\n                    <Grid item xs={3}>\r\n                        <Accordion>\r\n                            <AccordionSummary\r\n                                expandIcon={<ExpandMoreIcon />}\r\n                            >\r\n                                <Typography>{this.state.markersHeader}</Typography>\r\n                            </AccordionSummary>\r\n                            <AccordionDetails>\r\n                                <List style={{ width: '100%' }} disablePadding={true}>\r\n                                    {this.state.markers.map((marker, i) =>\r\n                                    (<ListItem key={marker.element} button onClick={() => this.handleItemOnClick(marker, i)}>\r\n                                        <ListItemIcon>\r\n                                            {marker.isVisible ? (<VisibilityIcon />) : (<VisibilityOffIcon />)}\r\n                                        </ListItemIcon>\r\n                                        <ListItemText classes={{ primary: marker.isVisible ? 'green' : 'red' }} primary={`${marker.name}`} />\r\n                                    </ListItem>)\r\n                                    )}\r\n                                </List>\r\n                            </AccordionDetails>\r\n                        </Accordion>\r\n                    </Grid>\r\n                    <Grid item xs={9}>\r\n                        <ToggleButton value=\"orbit\" aria-label=\"Orbit\" selected={this.state.isOrbitActive} onChange={() => {\r\n                            this.setState({ isOrbitActive: !this.state.isOrbitActive });\r\n                        }} >\r\n                            Route\r\n                        </ToggleButton>\r\n                        <ToggleButton value=\"borders\" aria-label=\"Labels\" selected={this.state.isBordersActive} onChange={() => {\r\n                            this.setState({ isBordersActive: !this.state.isBordersActive });\r\n                        }} >\r\n                            Borders\r\n                        </ToggleButton>\r\n                        <ToggleButton value=\"weather\" aria-label=\"Weather\" selected={this.state.isWeatherActive} onChange={() => {\r\n                            this.setState({ isWeatherActive: !this.state.isWeatherActive });\r\n                        }} >\r\n                            Weather\r\n                        </ToggleButton>\r\n                        <ToggleButton value=\"wind\" aria-label=\"Wind\" selected={this.state.isWindActive} onChange={() => {\r\n                            this.setState({ isWindActive: !this.state.isWindActive });\r\n                        }} >\r\n                            Wind\r\n                        </ToggleButton>\r\n                        <ToggleButton value=\"terrain\" aria-label=\"Terrain\" selected={this.state.isTerrainActive} onChange={() => {\r\n                            this.setState({ isTerrainActive: !this.state.isTerrainActive });\r\n                        }} >\r\n                            Terrain\r\n                        </ToggleButton>\r\n                        <ToggleButton value=\"labels\" aria-label=\"Labels\" selected={this.state.areLabelsActive} onChange={() => {\r\n                            this.setState({ areLabelsActive: !this.state.areLabelsActive });\r\n                        }} >\r\n                            Labels\r\n                        </ToggleButton>\r\n                        <Button onClick={() => { this.resetRoute() }}>\r\n                            Reset Route\r\n                        </Button>\r\n\r\n                        <Button onClick={() => { this.setState({ isExportDialogOpen: true }) }}>\r\n                            Export\r\n                        </Button>\r\n                    </Grid>\r\n                </Grid>\r\n                <Triangle parent={'#anchor'} color={'yellow'} size={this.props.size ?? .1} x={0} y={0} z={this.props.z + .1} />\r\n                {this.state.areLabelsActive ? (<Text parent={'#anchor'} text={'Anchor'} color=\"yellow\" x={-.3} y={-.15} z={1} />) : undefined}\r\n                <DynamicLayer isOrbitActive={this.state.isOrbitActive} showLabels={this.state.areLabelsActive} loopIndex={this.state.loopIndex} markers={this.state.markers} />\r\n                {this.state.isWeatherActive ? <WeatherLayer showLabels={this.state.areLabelsActive} index={this.state.loopIndex} /> : undefined}\r\n                {this.state.isBordersActive ? <BordersLayer showLabels={this.state.areLabelsActive} /> : undefined}\r\n                {this.state.isWindActive ? <WindLayer showLabels={this.state.areLabelsActive} /> : undefined}\r\n                {this.state.isTerrainActive ? <Terrain parent=\"#terrain-layer\" y={-5} /> : undefined}\r\n            </div>\r\n        );\r\n    }\r\n}","import React from \"react\";\r\nimport WhiteboardMenu from \"./whiteboard-menu\";\r\n\r\nclass App extends React.Component {\r\n\r\n  componentDidMount() {\r\n    // Select the node that will be observed for mutations\r\n    let targetNode = document.getElementById(\"body\");\r\n\r\n    // Options for the observer (which mutations to observe)\r\n    var config = { attributes: true, childList: true, subtree: true };\r\n\r\n    // Callback function to execute when mutations are observed\r\n    var observer = new MutationObserver(() => {\r\n      var bodyMargin = document.getElementById(\"body\").style.marginTop;\r\n      if (bodyMargin[0] === \"-\") {\r\n        bodyMargin = bodyMargin.substring(1);\r\n      } else {\r\n        bodyMargin = \"0px\";\r\n      }\r\n      document.getElementById(\"react-root\").style.marginTop = bodyMargin;\r\n      bodyMargin = document.getElementById(\"body\").style.marginLeft;\r\n      if (bodyMargin[0] === \"-\") {\r\n        bodyMargin = bodyMargin.substring(1);\r\n      } else {\r\n        bodyMargin = \"0px\";\r\n      }\r\n      document.getElementById(\"react-root\").style.marginLeft = bodyMargin;\r\n    });\r\n\r\n    // Start observing the target node for configured mutations\r\n    observer.observe(targetNode, config);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    var bodyMargin = this.props.number;\r\n    if (bodyMargin[0] === \"-\") {\r\n      bodyMargin = bodyMargin.substring(1);\r\n    } else {\r\n      bodyMargin = \"0px\";\r\n    }\r\n    document.getElementById(\"react-root\").style.marginTop = bodyMargin;\r\n  }\r\n\r\n  render() {\r\n    return <WhiteboardMenu />;\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from \"./components/app\";\r\n\r\nconst app = <App />;\r\n\r\nReactDOM.render(app, document.getElementById(\"react-root\"));"],"sourceRoot":""}